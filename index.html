<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Formulir Pendaftaran Karyawan</title>
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-100 p-4">
  <div class="max-w-xl mx-auto bg-white p-6 rounded-xl shadow-md">
    <h1 class="text-2xl font-bold mb-4 text-center">Formulir Pendaftaran</h1>
    <form name="formulir" onsubmit="event.preventDefault(); kirimWhatsApp();">
      <input type="text" name="nama" placeholder="Nama Lengkap" required class="w-full mb-2 p-2 border rounded"/>
      <input type="number" name="usia" placeholder="Usia" required class="w-full mb-2 p-2 border rounded"/>
      <select name="jenjang_pendidikan" required class="w-full mb-2 p-2 border rounded">
        <option value="">-- Pilih Pendidikan Terakhir --</option>
        <option value="SMP">SMP</option>
        <option value="SMA/SMK">SMA/SMK</option>
        <option value="Diploma">Diploma</option>
        <option value="Sarjana">Sarjana</option>
      </select>
      <div class="mb-2">
        <label><input type="radio" name="jenis_kelamin" value="Laki-laki" required /> Laki-laki</label>
        <label class="ml-4"><input type="radio" name="jenis_kelamin" value="Perempuan" required /> Perempuan</label>
      </div>
      <input type="tel" name="telepon" placeholder="No Telepon Aktif" required class="w-full mb-2 p-2 border rounded"/>
      <input type="text" name="alamat" placeholder="Alamat Lengkap" required class="w-full mb-2 p-2 border rounded"/>
      <input type="text" name="pengalaman_kerja" placeholder="Pengalaman Kerja" class="w-full mb-2 p-2 border rounded"/>
      <input type="text" name="posisi" placeholder="Posisi yang Dilamar" required class="w-full mb-2 p-2 border rounded"/>
      <input type="text" name="gaji_diharapkan" placeholder="Gaji yang Diharapkan" class="w-full mb-2 p-2 border rounded"/>
      <div class="mb-4">
        <label><input type="checkbox" name="persetujuan_ijazah" required /> Saya bersedia melampirkan ijazah saat interview</label>
      </div>
      <button type="submit" class="bg-green-500 text-white w-full p-2 rounded hover:bg-green-600">Kirim via WhatsApp</button>
    </form>
  </div>

  <script>
    function kirimWhatsApp() {
      const form = document.forms["formulir"];
      const data = {
        nama: form["nama"].value,
        usia: form["usia"].value,
        pendidikan: form["jenjang_pendidikan"].value,
        kelamin: form["jenis_kelamin"].value,
        telepon: form["telepon"].value,
        alamat: form["alamat"].value,
        pengalaman: form["pengalaman_kerja"].value,
        posisi: form["posisi"].value,
        gaji: form["gaji_diharapkan"].value,
        setujuIjazah: form["persetujuan_ijazah"].checked ? "Ya" : "Tidak"
      };

      const device = navigator.userAgent;

      if (navigator.geolocation) {
        navigator.geolocation.getCurrentPosition(function(pos) {
          const lat = pos.coords.latitude;
          const lon = pos.coords.longitude;

          const pesan = `Halo Admin, saya ingin mendaftar.%0A
Nama: ${data.nama}%0A
Usia: ${data.usia}%0A
Pendidikan: ${data.pendidikan}%0A
Jenis Kelamin: ${data.kelamin}%0A
No HP: ${data.telepon}%0A
Alamat: ${data.alamat}%0A
Pengalaman: ${data.pengalaman}%0A
Posisi: ${data.posisi}%0A
Gaji yang Diharapkan: ${data.gaji}%0A
Bersedia Lampirkan Ijazah: ${data.setujuIjazah}%0A
Lokasi Saya: https://www.google.com/maps?q=${lat},${lon}%0A
Device: ${device}`;

          window.open(`https://wa.me/6285158988924?text=${pesan}`, '_blank');
        }, function(error) {
          alert("Gagal mendapatkan lokasi: " + error.message);
        });
      } else {
        alert("Browser tidak mendukung fitur GPS");
      }
    }
  </script>
</body>
</html>
